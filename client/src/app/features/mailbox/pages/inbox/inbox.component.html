<app-mail-toolbar
  title="Inbox"
  [count]="filteredMessages.length"
  [search]="search"
  (searchChange)="search = $event">
</app-mail-toolbar>

<div class="list" *ngIf="filteredMessages.length; else empty">
  <a
    class="row"
    *ngFor="let m of filteredMessages"
    [routerLink]="['/app/message-view', m.id]">

    <div class="main">
      <div class="topline">
        <div class="from">{{ m.from }}</div>
        <div class="date">{{ m.createdAt | date:'short' }}</div>
      </div>

      <div class="subject">{{ m.subject }}</div>
      <div class="preview">{{ m.body }}</div>
    </div>
  </a>
</div>

<ng-template #empty>
  <div class="empty">هیچ نامه‌ای در Inbox وجود ندارد.</div>
</ng-template>